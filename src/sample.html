<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <meta name="description" content="An Online IDE for the Coq Theorem Prover" />

    <script src="../node_modules/nwjs-kremlin/reload.js"></script>
    <script type="text/javascript">
    Reload.ignore('coq-external', 'coq-pkgs', 'ui-external');
    Reload.ignore(/[.](tmp|ml|cmo|cmi|byte)$/)
    </script>

    <script src="../node_modules/jquery/dist/jquery.js"></script>
    <script src="../node_modules/prelude-ls-browser/browser/prelude-browser.js"></script>

    <script src="./lang/tree.ls.js"></script>
    <script src="./lang/ast.ls.js"></script>
    <script src="./lang/pretty.ls.js"></script>
    <script src="./hub.ls.js"></script>

    <link rel="stylesheet" type="text/css" href="./coq.css">

    <title>jsCoq - The Coq Theorem Prover Online IDE</title>
  </head>

<body>
  <div id="ide-wrapper" class="toggled">
  <div id="code-wrapper">
  <div id="document-W">
    <textarea id="workspace">
Require Import Bool.

Theorem a (b : nat) :
  forall f (b : nat), f (f b) = f b.

Theorem plus_two : forall n : nat, n + (1 + 1) = S (S n).
Proof.
  induction n.
  - simpl. reflexivity.
  - simpl. rewrite IHn. reflexivity.
Qed.
</textarea>
  <div id="testbed"></div>
  </div> <!-- /#document-W -->
  </div> <!-- /#code-wrapper -->
  </div> <!-- /#ide-wrapper -->

  <script src="../node_modules/jscoq/ui-js/jscoq-loader.js" type="text/javascript"></script>
  <script type="text/javascript">

  /*
    var fs = require('fs');
    var txt = fs.readFileSync('/Users/corwin/var/ext/coq/libs/hahn/HahnBase.v', 'utf-8');
    $('#workspace').val(txt);
  */
    var jscoq_ids  = ['workspace'];
    var jscoq_opts = {
        prelude:   true,
        base_path: '../node_modules/jscoq/',
        init_pkgs: ['init', 'coq-base', 'coq-arith', 'coq-reals'],
        all_pkgs:  ['init', 'math-comp', 'coq-base', 'coq-arith', 'coq-reals'],
        editor: {keyMap: 'default'}
    };

    /* Global reference */
    var coq, assist;

    loadJsCoq(jscoq_opts.base_path)
        .then( () => {
          coq = new CoqManager(jscoq_ids, jscoq_opts);
          assist = new CoqAssistant().attach(coq);
        });
  </script>
</body>
</html>
